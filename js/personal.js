/**
 * Nextcloud - Dashboard Charting app
 *
 * This file is licensed under the Affero General Public License version 3 or
 * later. See the COPYING file.
 *
 * @author Mark Partlett <mark@partlettconsulting.com.au>
 * @copyright 2019, Mark Partlett <mark@partlettconsulting.com.au>
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 */

$(document).ready(function() {

	var urlRegex = /https?:\/\/([^\/]+)/,
		$urlInput = $('#dashboard-textChart1_0'),
		$textarea = $('#dashboard-textarea0'),
		$section = $('#dashboard-section'),
		$saveButton = $section.find('button'),
		cachebuster = parseInt($section.data('cachebuster'));

	$('#dashboard-save').on('click', function(event) {
		event.preventDefault();

		var selector = '#dashboard-message',
			snippetValue = $textarea.val(),
			urlValue = $urlInput.val();
		$section.find('textarea').each(function(){
		$(this).prop('disabled', true);
		});
		OC.msg.startSaving(selector);
		
		var returnMsg = '[{';
		$section.find('textarea').each(function(){
		returnMsg += "\"widget\":\""+ $(this).attr('id')+"\",\"data\":"+$(this).attr('value')+"},{";
			});
		returnMsg = returnMsg.substring(0, returnMsg.length - 3);
		returnMsg += "}]";
		
		returnMsg = 'dashboard=' + returnMsg;
	//	console.log(returnMsg);
		
	//	function saveSettings() {
	//	OC.msg.startSaving('#activity_notifications_msg');
	//	var post = $(returnMsg).serialize();
		var post = returnMsg;

		$.post(OC.generateUrl('/apps/dashboardcharts/settings'), post, function(response) {
			OC.msg.finishedSuccess('#activity_notifications_msg', response.set);
		});
	//}
			
		$section.find('textarea').each(function(){
		$(this).prop('disabled', false);
		});	
		

	//	OCP.AppConfig.setValue('dashboard', 'snippet', snippetValue, {
	//		success: function(){
	//			$textarea.prop('disabled', false);

	//			OCP.AppConfig.setValue('dashboard', 'widget', urlValue, {
	//				success: function(){
	//					$urlInput.prop('disabled', false);
	//					OC.msg.finishedSuccess(selector, t('settings', 'Saved'));
	//				},
	//				error: function(){
	//					$urlInput.prop('disabled', false);
	//					OC.msg.finishedError(selector, t('dashboard', 'Error while saving'));
	//				}
	//			});
	//		},
	//		error: function(){
	//			$textarea.prop('disabled', false);
	//			$urlInput.prop('disabled', false);
	//			OC.msg.finishedError(selector, t('dashboard', 'Error while saving'));
	//		}
	//	});

		cachebuster += 1;
		OCP.AppConfig.setValue('dashboardcharts', 'cachebuster', cachebuster);
	});

	
	$('#dashboard-load').on('click', function(event) {
		event.preventDefault();

		var returnMsg = 'dashboard=[{\"widget\":\"Chart1\",\"data\":{\"type\":\"bar\",\"data\":{\"datasets\":[{\"data\":[133,221,783,2478],\"label\":\"Africa\",\"backgroundColor\":\"#fe95cd\"},{\"label\":\"Europe\",\"data\":[408,547,675,734],\"backgroundColor\":\"#8e5ea2\"}],\"labels\":[\"1900\",\"1950\",\"1999\",\"2050\"]},\"options\":{\"title\":{\"display\":true,\"text\":\"Population growth (millions)\"}}} },{\"widget\":\"Chart2\",\"data\":{\"type\":\"horizontalBar\",\"data\":{\"datasets\":[{\"data\":[2478,5267,734,784,433],\"label\":\"Population (millions)\",\"backgroundColor\":[\"#3e95cd\",\"#8e5ea2\",\"#3cba9f\",\"#e8c3b9\",\"#c45850\"]}],\"labels\":[\"Africa\",\"Asia\",\"Europe\",\"Latin America\",\"North America\"]},\"options\":{\"title\":{\"display\":true,\"text\":\"Predicted world population (millions) in 2050\"},\"legend\":{\"display\":false}}} },{\"widget\":\"Chart3\",\"data\":{\"type\":\"polarArea\",\"data\":{\"datasets\":[{\"data\":[2478,5267,734,784,433],\"label\":\"Population (millions)\",\"backgroundColor\":[\"#3e95cd\",\"#8e5ea2\",\"#3cba9f\",\"#e8c3b9\",\"#c45850\"]}],\"labels\":[\"Africa\",\"Asia\",\"Europe\",\"Latin America\",\"North America\"]},\"options\":{\"title\":{\"display\":true,\"text\":\"Predicted world population (millions) in 2050\"}}} },{\"widget\":\"Chart4\",\"data\":{\"type\":\"radar\",\"data\":{\"datasets\":[{\"data\":[8.77,55.61,21.69,6.62,6.82],\"label\":\"1950\",\"backgroundColor\":\"rgba(179,181,198,0.2)\",\"fill\":true,\"borderColor\":\"rgba(179,181,198,1)\",\"pointBorderColor\":\"#fff\",\"pointBackgroundColor\":\"rgba(179,181,198,1)\"},{\"label\":\"2050\",\"fill\":true,\"backgroundColor\":\"rgba(255,99,132,0.2)\",\"borderColor\":\"rgba(255,99,132,1)\",\"pointBorderColor\":\"#fff\",\"pointBackgroundColor\":\"rgba(255,99,132,1)\",\"data\":[25.48,54.16,7.61,8.06,4.45]}],\"labels\":[\"Africa\",\"Asia\",\"Europe\",\"Latin America\",\"North America\"]},\"options\":{\"title\":{\"display\":true,\"text\":\"Distribution in % of world population\"}}} },{\"widget\":\"Chart5\",\"data\":{\"type\":\"line\",\"data\":{\"datasets\":[{\"data\":[86,114,106,106,107,111,133,221,783,2478],\"label\":\"Africa\",\"borderColor\":\"#3e95cd\",\"fill\":false},{\"data\":[282,350,411,502,635,809,947,1402,3700,5267],\"label\":\"Asia\",\"borderColor\":\"#8e5ea2\",\"fill\":false},{\"data\":[168,170,178,190,203,276,408,547,675,734],\"label\":\"Europe\",\"borderColor\":\"#3cba9f\",\"fill\":false},{\"data\":[40,20,10,16,24,38,74,167,508,784],\"label\":\"Latin America\",\"borderColor\":\"#e8c3b9\",\"fill\":false},{\"data\":[6,3,2,2,7,26,82,172,312,433],\"label\":\"North America\",\"borderColor\":\"#c45850\",\"fill\":false}],\"labels\":[1500,1600,1700,1750,1800,1850,1900,1950,1999,2050]},\"options\":{\"title\":{\"display\":true,\"text\":\"World population per region (in millions)\"}}} },{\"widget\":\"Counter1\",\"data\":{\"text\":\"Counter 1\",\"size\":\"60 px\",\"color\":\"rgb(12,34,56)\",\"value\":\"55\"} },{\"widget\":\"Counter2\",\"data\":{\"text\":\"Counter 2\",\"size\":\"60 px\",\"color\":\"rgb(12,34,56)\",\"value\":\"55\"} },{\"widget\":\"Counter3\",\"data\":{\"text\":\"Counter 3\",\"size\":\"60 px\",\"color\":\"rgb(12,34,56)\",\"value\":\"55\"} },{\"widget\":\"Counter4\",\"data\":{\"text\":\"Counter 4\",\"size\":\"60 px\",\"color\":\"rgb(12,34,56)\",\"value\":\"55\"} },{\"widget\":\"Counter5\",\"data\":{\"text\":\"Counter 5\",\"size\":\"60 px\",\"color\":\"rgb(12,34,56)\",\"value\":\"55\"} },{\"widget\":\"Counter6\",\"data\":{\"text\":\"Counter 6\",\"size\":\"60 px\",\"color\":\"rgb(12,34,56)\",\"value\":\"55\"} },{\"widget\":\"Counter7\",\"data\":{\"text\":\"Counter 7\",\"size\":\"60 px\",\"color\":\"rgb(12,34,56)\",\"value\":\"55\"} },{\"widget\":\"Counter8\",\"data\":{\"text\":\"Counter 8\",\"size\":\"60 px\",\"color\":\"rgb(12,34,56)\",\"value\":\"55\"} },{\"widget\":\"Counter9\",\"data\":{\"text\":\"Counter 9\",\"size\":\"60 px\",\"color\":\"rgb(12,34,56)\",\"value\":\"55\"} },{\"widget\":\"D3Chart1\",\"data\":{\"text\":\"Lorem ipsum dolor sit amet\"} },{\"widget\":\"Gauge1\",\"data\":{\"options\":{\"angle\":-0.2,\"lineWidth\":0.2,\"radiusScale\":1,\"pointer\":{\"length\":0.85,\"strokeWidth\":0.009,\"color\":\"#000000\"},\"limitMax\":false,\"limitMin\":false,\"colorStart\":\"#6FADCF\",\"colorStop\":\"#8FC0DA\",\"strokeColor\":\"#E0E0E0\",\"generateGradient\":true,\"highDpiSupport\":true},\"text\":\"Gauge 1\",\"data\":55,\"minValue\":0,\"maxValue\":100} },{\"widget\":\"Gauge2\",\"data\":{\"options\":{\"angle\":0.35,\"lineWidth\":0.1,\"radiusScale\":1,\"pointer\":{\"length\":0.85,\"strokeWidth\":0.009,\"color\":\"#000000\"},\"limitMax\":false,\"limitMin\":false,\"colorStart\":\"#6F6EA0\",\"colorStop\":\"#C0C0DB\",\"strokeColor\":\"#EEEEEE\",\"generateGradient\":true,\"highDpiSupport\":true},\"text\":\"Gauge 2\",\"data\":80,\"minValue\":0,\"maxValue\":100} },{\"widget\":\"Gauge3\",\"data\":{\"options\":{\"angle\":0.35,\"lineWidth\":0.1,\"radiusScale\":0.77,\"pointer\":{\"length\":0.6,\"strokeWidth\":0.035,\"color\":\"#000000\"},\"limitMax\":false,\"limitMin\":false,\"colorStart\":\"#6F6EA0\",\"colorStop\":\"#C0C0DB\",\"strokeColor\":\"#EEEEEE\",\"generateGradient\":true,\"highDpiSupport\":true},\"text\":\"Gauge 3\",\"data\":55,\"minValue\":0,\"maxValue\":100} },{\"widget\":\"Gauge4\",\"data\":{\"options\":{\"angle\":-0.2,\"lineWidth\":0.2,\"radiusScale\":1,\"pointer\":{\"length\":0.85,\"strokeWidth\":0.009,\"color\":\"#000000\"},\"limitMax\":false,\"limitMin\":false,\"colorStart\":\"#6FADCF\",\"colorStop\":\"#8FC0DA\",\"strokeColor\":\"#E0E0E0\",\"generateGradient\":true,\"highDpiSupport\":true},\"text\":\"Gauge 4\",\"data\":55,\"minValue\":0,\"maxValue\":100} },{\"widget\":\"Gauge5\",\"data\":{\"options\":{\"angle\":0.35,\"lineWidth\":0.1,\"radiusScale\":1,\"pointer\":{\"length\":0.85,\"strokeWidth\":0.009,\"color\":\"#000000\"},\"limitMax\":false,\"limitMin\":false,\"colorStart\":\"#6F6EA0\",\"colorStop\":\"#C0C0DB\",\"strokeColor\":\"#EEEEEE\",\"generateGradient\":true,\"highDpiSupport\":true},\"text\":\"Gauge 5\",\"data\":55,\"minValue\":0,\"maxValue\":100} },{\"widget\":\"Gauge6\",\"data\":{\"options\":{\"angle\":0.35,\"lineWidth\":0.1,\"radiusScale\":1,\"pointer\":{\"length\":0.85,\"strokeWidth\":0.009,\"color\":\"#000000\"},\"limitMax\":false,\"limitMin\":false,\"colorStart\":\"#6F6EA0\",\"colorStop\":\"#C0C0DB\",\"strokeColor\":\"#EEEEEE\",\"generateGradient\":true,\"highDpiSupport\":true},\"text\":\"Gauge 6\",\"data\":55,\"minValue\":0,\"maxValue\":100} },{\"widget\":\"Gauge7\",\"data\":{\"options\":{\"angle\":0.35,\"lineWidth\":0.1,\"radiusScale\":1,\"pointer\":{\"length\":0.85,\"strokeWidth\":0.009,\"color\":\"#000000\"},\"limitMax\":false,\"limitMin\":false,\"colorStart\":\"#6F6EA0\",\"colorStop\":\"#C0C0DB\",\"strokeColor\":\"#EEEEEE\",\"generateGradient\":true,\"highDpiSupport\":true},\"text\":\"Gauge 7\",\"data\":55,\"minValue\":0,\"maxValue\":100} },{\"widget\":\"Gauge8\",\"data\":{\"options\":{\"angle\":0.35,\"lineWidth\":0.1,\"radiusScale\":1,\"pointer\":{\"length\":0.85,\"strokeWidth\":0.009,\"color\":\"#000000\"},\"limitMax\":false,\"limitMin\":false,\"colorStart\":\"#6F6EA0\",\"colorStop\":\"#C0C0DB\",\"strokeColor\":\"#EEEEEE\",\"generateGradient\":true,\"highDpiSupport\":true},\"text\":\"Gauge 8\",\"data\":55,\"minValue\":0,\"maxValue\":100} },{\"widget\":\"Gauge9\",\"data\":{\"options\":{\"angle\":0.35,\"lineWidth\":0.1,\"radiusScale\":1,\"pointer\":{\"length\":0.85,\"strokeWidth\":0.009,\"color\":\"#000000\"},\"limitMax\":false,\"limitMin\":false,\"colorStart\":\"#6F6EA0\",\"colorStop\":\"#C0C0DB\",\"strokeColor\":\"#EEEEEE\",\"generateGradient\":true,\"highDpiSupport\":true},\"text\":\"Gauge 9\",\"data\":55,\"minValue\":0,\"maxValue\":100} },{\"widget\":\"Grid1\",\"data\":{\"data\":[[\"Tiger Nixon\",\"System Architect\",\"Edinburgh\",\"5421\",\"2011\\/04\\/25\",\"$320,800\"],[\"Garrett Winters\",\"Accountant\",\"Tokyo\",\"8422\",\"2011\\/07\\/25\",\"$170,750\"],[\"Ashton Cox\",\"Junior Technical Author\",\"San Francisco\",\"1562\",\"2009\\/01\\/12\",\"$86,000\"],[\"Cedric Kelly\",\"Senior Javascript Developer\",\"Edinburgh\",\"6224\",\"2012\\/03\\/29\",\"$433,060\"],[\"Airi Satou\",\"Accountant\",\"Tokyo\",\"5407\",\"2008\\/11\\/28\",\"$162,700\"],[\"Brielle Williamson\",\"Integration Specialist\",\"New York\",\"4804\",\"2012\\/12\\/02\",\"$372,000\"],[\"Herrod Chandler\",\"Sales Assistant\",\"San Francisco\",\"9608\",\"2012\\/08\\/06\",\"$137,500\"],[\"Rhona Davidson\",\"Integration Specialist\",\"Tokyo\",\"6200\",\"2010\\/10\\/14\",\"$327,900\"],[\"Colleen Hurst\",\"Javascript Developer\",\"San Francisco\",\"2360\",\"2009\\/09\\/15\",\"$205,500\"],[\"Sonya Frost\",\"Software Engineer\",\"Edinburgh\",\"1667\",\"2008\\/12\\/13\",\"$103,600\"],[\"Jena Gaines\",\"Office Manager\",\"London\",\"3814\",\"2008\\/12\\/19\",\"$90,560\"],[\"Quinn Flynn\",\"Support Lead\",\"Edinburgh\",\"9497\",\"2013\\/03\\/03\",\"$342,000\"],[\"Charde Marshall\",\"Regional Director\",\"San Francisco\",\"6741\",\"2008\\/10\\/16\",\"$470,600\"],[\"Haley Kennedy\",\"Senior Marketing Designer\",\"London\",\"3597\",\"2012\\/12\\/18\",\"$313,500\"],[\"Tatyana Fitzpatrick\",\"Regional Director\",\"London\",\"1965\",\"2010\\/03\\/17\",\"$385,750\"],[\"Michael Silva\",\"Marketing Designer\",\"London\",\"1581\",\"2012\\/11\\/27\",\"$198,500\"],[\"Paul Byrd\",\"Chief Financial Officer (CFO)\",\"New York\",\"3059\",\"2010\\/06\\/09\",\"$725,000\"],[\"Gloria Little\",\"Systems Administrator\",\"New York\",\"1721\",\"2009\\/04\\/10\",\"$237,500\"],[\"Bradley Greer\",\"Software Engineer\",\"London\",\"2558\",\"2012\\/10\\/13\",\"$132,000\"],[\"Dai Rios\",\"Personnel Lead\",\"Edinburgh\",\"2290\",\"2012\\/09\\/26\",\"$217,500\"],[\"Jenette Caldwell\",\"Development Lead\",\"New York\",\"1937\",\"2011\\/09\\/03\",\"$345,000\"],[\"Yuri Berry\",\"Chief Marketing Officer (CMO)\",\"New York\",\"6154\",\"2009\\/06\\/25\",\"$675,000\"],[\"Caesar Vance\",\"Pre-Sales Support\",\"New York\",\"8330\",\"2011\\/12\\/12\",\"$106,450\"],[\"Doris Wilder\",\"Sales Assistant\",\"Sidney\",\"3023\",\"2010\\/09\\/20\",\"$85,600\"],[\"Angelica Ramos\",\"Chief Executive Officer (CEO)\",\"London\",\"5797\",\"2009\\/10\\/09\",\"$1,200,000\"],[\"Gavin Joyce\",\"Developer\",\"Edinburgh\",\"8822\",\"2010\\/12\\/22\",\"$92,575\"],[\"Jennifer Chang\",\"Regional Director\",\"Singapore\",\"9239\",\"2010\\/11\\/14\",\"$357,650\"],[\"Brenden Wagner\",\"Software Engineer\",\"San Francisco\",\"1314\",\"2011\\/06\\/07\",\"$206,850\"],[\"Fiona Green\",\"Chief Operating Officer (COO)\",\"San Francisco\",\"2947\",\"2010\\/03\\/11\",\"$850,000\"],[\"Shou Itou\",\"Regional Marketing\",\"Tokyo\",\"8899\",\"2011\\/08\\/14\",\"$163,000\"],[\"Michelle House\",\"Integration Specialist\",\"Sidney\",\"2769\",\"2011\\/06\\/02\",\"$95,400\"],[\"Suki Burks\",\"Developer\",\"London\",\"6832\",\"2009\\/10\\/22\",\"$114,500\"],[\"Prescott Bartlett\",\"Technical Author\",\"London\",\"3606\",\"2011\\/05\\/07\",\"$145,000\"],[\"Gavin Cortez\",\"Team Leader\",\"San Francisco\",\"2860\",\"2008\\/10\\/26\",\"$235,500\"],[\"Martena Mccray\",\"Post-Sales support\",\"Edinburgh\",\"8240\",\"2011\\/03\\/09\",\"$324,050\"],[\"Unity Butler\",\"Marketing Designer\",\"San Francisco\",\"5384\",\"2009\\/12\\/09\",\"$85,675\"]],\"columns\":[{\"title\":\"Name\"},{\"title\":\"Position\"},{\"title\":\"Office\"},{\"title\":\"Extn.\"},{\"title\":\"Start date\"},{\"title\":\"Salary\"}]} },{\"widget\":\"Grid2\",\"data\":{\"data\":[[\"Tiger Nixon\",\"System Architect\",\"Edinburgh\",\"5421\",\"2011\\/04\\/25\",\"$320,800\"],[\"Garrett Winters\",\"Accountant\",\"Tokyo\",\"8422\",\"2011\\/07\\/25\",\"$170,750\"],[\"Ashton Cox\",\"Junior Technical Author\",\"San Francisco\",\"1562\",\"2009\\/01\\/12\",\"$86,000\"],[\"Cedric Kelly\",\"Senior Javascript Developer\",\"Edinburgh\",\"6224\",\"2012\\/03\\/29\",\"$433,060\"],[\"Airi Satou\",\"Accountant\",\"Tokyo\",\"5407\",\"2008\\/11\\/28\",\"$162,700\"],[\"Brielle Williamson\",\"Integration Specialist\",\"New York\",\"4804\",\"2012\\/12\\/02\",\"$372,000\"],[\"Herrod Chandler\",\"Sales Assistant\",\"San Francisco\",\"9608\",\"2012\\/08\\/06\",\"$137,500\"],[\"Rhona Davidson\",\"Integration Specialist\",\"Tokyo\",\"6200\",\"2010\\/10\\/14\",\"$327,900\"],[\"Colleen Hurst\",\"Javascript Developer\",\"San Francisco\",\"2360\",\"2009\\/09\\/15\",\"$205,500\"],[\"Sonya Frost\",\"Software Engineer\",\"Edinburgh\",\"1667\",\"2008\\/12\\/13\",\"$103,600\"],[\"Jena Gaines\",\"Office Manager\",\"London\",\"3814\",\"2008\\/12\\/19\",\"$90,560\"],[\"Quinn Flynn\",\"Support Lead\",\"Edinburgh\",\"9497\",\"2013\\/03\\/03\",\"$342,000\"],[\"Charde Marshall\",\"Regional Director\",\"San Francisco\",\"6741\",\"2008\\/10\\/16\",\"$470,600\"],[\"Haley Kennedy\",\"Senior Marketing Designer\",\"London\",\"3597\",\"2012\\/12\\/18\",\"$313,500\"],[\"Tatyana Fitzpatrick\",\"Regional Director\",\"London\",\"1965\",\"2010\\/03\\/17\",\"$385,750\"],[\"Michael Silva\",\"Marketing Designer\",\"London\",\"1581\",\"2012\\/11\\/27\",\"$198,500\"],[\"Paul Byrd\",\"Chief Financial Officer (CFO)\",\"New York\",\"3059\",\"2010\\/06\\/09\",\"$725,000\"],[\"Gloria Little\",\"Systems Administrator\",\"New York\",\"1721\",\"2009\\/04\\/10\",\"$237,500\"],[\"Bradley Greer\",\"Software Engineer\",\"London\",\"2558\",\"2012\\/10\\/13\",\"$132,000\"],[\"Dai Rios\",\"Personnel Lead\",\"Edinburgh\",\"2290\",\"2012\\/09\\/26\",\"$217,500\"],[\"Jenette Caldwell\",\"Development Lead\",\"New York\",\"1937\",\"2011\\/09\\/03\",\"$345,000\"],[\"Yuri Berry\",\"Chief Marketing Officer (CMO)\",\"New York\",\"6154\",\"2009\\/06\\/25\",\"$675,000\"],[\"Caesar Vance\",\"Pre-Sales Support\",\"New York\",\"8330\",\"2011\\/12\\/12\",\"$106,450\"],[\"Doris Wilder\",\"Sales Assistant\",\"Sidney\",\"3023\",\"2010\\/09\\/20\",\"$85,600\"],[\"Angelica Ramos\",\"Chief Executive Officer (CEO)\",\"London\",\"5797\",\"2009\\/10\\/09\",\"$1,200,000\"],[\"Gavin Joyce\",\"Developer\",\"Edinburgh\",\"8822\",\"2010\\/12\\/22\",\"$92,575\"],[\"Jennifer Chang\",\"Regional Director\",\"Singapore\",\"9239\",\"2010\\/11\\/14\",\"$357,650\"],[\"Brenden Wagner\",\"Software Engineer\",\"San Francisco\",\"1314\",\"2011\\/06\\/07\",\"$206,850\"],[\"Fiona Green\",\"Chief Operating Officer (COO)\",\"San Francisco\",\"2947\",\"2010\\/03\\/11\",\"$850,000\"],[\"Shou Itou\",\"Regional Marketing\",\"Tokyo\",\"8899\",\"2011\\/08\\/14\",\"$163,000\"],[\"Michelle House\",\"Integration Specialist\",\"Sidney\",\"2769\",\"2011\\/06\\/02\",\"$95,400\"],[\"Suki Burks\",\"Developer\",\"London\",\"6832\",\"2009\\/10\\/22\",\"$114,500\"],[\"Prescott Bartlett\",\"Technical Author\",\"London\",\"3606\",\"2011\\/05\\/07\",\"$145,000\"],[\"Gavin Cortez\",\"Team Leader\",\"San Francisco\",\"2860\",\"2008\\/10\\/26\",\"$235,500\"],[\"Martena Mccray\",\"Post-Sales support\",\"Edinburgh\",\"8240\",\"2011\\/03\\/09\",\"$324,050\"],[\"Unity Butler\",\"Marketing Designer\",\"San Francisco\",\"5384\",\"2009\\/12\\/09\",\"$85,675\"]],\"columns\":[{\"title\":\"Name\"},{\"title\":\"Position\"},{\"title\":\"Office\"},{\"title\":\"Extn.\"},{\"title\":\"Start date\"},{\"title\":\"Salary\"}]} },{\"widget\":\"Grid3\",\"data\":{\"data\":[[\"Tiger Nixon\",\"System Architect\",\"Edinburgh\",\"5421\",\"2011\\/04\\/25\",\"$320,800\"],[\"Garrett Winters\",\"Accountant\",\"Tokyo\",\"8422\",\"2011\\/07\\/25\",\"$170,750\"],[\"Ashton Cox\",\"Junior Technical Author\",\"San Francisco\",\"1562\",\"2009\\/01\\/12\",\"$86,000\"],[\"Cedric Kelly\",\"Senior Javascript Developer\",\"Edinburgh\",\"6224\",\"2012\\/03\\/29\",\"$433,060\"],[\"Airi Satou\",\"Accountant\",\"Tokyo\",\"5407\",\"2008\\/11\\/28\",\"$162,700\"],[\"Brielle Williamson\",\"Integration Specialist\",\"New York\",\"4804\",\"2012\\/12\\/02\",\"$372,000\"],[\"Herrod Chandler\",\"Sales Assistant\",\"San Francisco\",\"9608\",\"2012\\/08\\/06\",\"$137,500\"],[\"Rhona Davidson\",\"Integration Specialist\",\"Tokyo\",\"6200\",\"2010\\/10\\/14\",\"$327,900\"],[\"Colleen Hurst\",\"Javascript Developer\",\"San Francisco\",\"2360\",\"2009\\/09\\/15\",\"$205,500\"],[\"Sonya Frost\",\"Software Engineer\",\"Edinburgh\",\"1667\",\"2008\\/12\\/13\",\"$103,600\"],[\"Jena Gaines\",\"Office Manager\",\"London\",\"3814\",\"2008\\/12\\/19\",\"$90,560\"],[\"Quinn Flynn\",\"Support Lead\",\"Edinburgh\",\"9497\",\"2013\\/03\\/03\",\"$342,000\"],[\"Charde Marshall\",\"Regional Director\",\"San Francisco\",\"6741\",\"2008\\/10\\/16\",\"$470,600\"],[\"Haley Kennedy\",\"Senior Marketing Designer\",\"London\",\"3597\",\"2012\\/12\\/18\",\"$313,500\"],[\"Tatyana Fitzpatrick\",\"Regional Director\",\"London\",\"1965\",\"2010\\/03\\/17\",\"$385,750\"],[\"Michael Silva\",\"Marketing Designer\",\"London\",\"1581\",\"2012\\/11\\/27\",\"$198,500\"],[\"Paul Byrd\",\"Chief Financial Officer (CFO)\",\"New York\",\"3059\",\"2010\\/06\\/09\",\"$725,000\"],[\"Gloria Little\",\"Systems Administrator\",\"New York\",\"1721\",\"2009\\/04\\/10\",\"$237,500\"],[\"Bradley Greer\",\"Software Engineer\",\"London\",\"2558\",\"2012\\/10\\/13\",\"$132,000\"],[\"Dai Rios\",\"Personnel Lead\",\"Edinburgh\",\"2290\",\"2012\\/09\\/26\",\"$217,500\"],[\"Jenette Caldwell\",\"Development Lead\",\"New York\",\"1937\",\"2011\\/09\\/03\",\"$345,000\"],[\"Yuri Berry\",\"Chief Marketing Officer (CMO)\",\"New York\",\"6154\",\"2009\\/06\\/25\",\"$675,000\"],[\"Caesar Vance\",\"Pre-Sales Support\",\"New York\",\"8330\",\"2011\\/12\\/12\",\"$106,450\"],[\"Doris Wilder\",\"Sales Assistant\",\"Sidney\",\"3023\",\"2010\\/09\\/20\",\"$85,600\"],[\"Angelica Ramos\",\"Chief Executive Officer (CEO)\",\"London\",\"5797\",\"2009\\/10\\/09\",\"$1,200,000\"],[\"Gavin Joyce\",\"Developer\",\"Edinburgh\",\"8822\",\"2010\\/12\\/22\",\"$92,575\"],[\"Jennifer Chang\",\"Regional Director\",\"Singapore\",\"9239\",\"2010\\/11\\/14\",\"$357,650\"],[\"Brenden Wagner\",\"Software Engineer\",\"San Francisco\",\"1314\",\"2011\\/06\\/07\",\"$206,850\"],[\"Fiona Green\",\"Chief Operating Officer (COO)\",\"San Francisco\",\"2947\",\"2010\\/03\\/11\",\"$850,000\"],[\"Shou Itou\",\"Regional Marketing\",\"Tokyo\",\"8899\",\"2011\\/08\\/14\",\"$163,000\"],[\"Michelle House\",\"Integration Specialist\",\"Sidney\",\"2769\",\"2011\\/06\\/02\",\"$95,400\"],[\"Suki Burks\",\"Developer\",\"London\",\"6832\",\"2009\\/10\\/22\",\"$114,500\"],[\"Prescott Bartlett\",\"Technical Author\",\"London\",\"3606\",\"2011\\/05\\/07\",\"$145,000\"],[\"Gavin Cortez\",\"Team Leader\",\"San Francisco\",\"2860\",\"2008\\/10\\/26\",\"$235,500\"],[\"Martena Mccray\",\"Post-Sales support\",\"Edinburgh\",\"8240\",\"2011\\/03\\/09\",\"$324,050\"],[\"Unity Butler\",\"Marketing Designer\",\"San Francisco\",\"5384\",\"2009\\/12\\/09\",\"$85,675\"]],\"columns\":[{\"title\":\"Name\"},{\"title\":\"Position\"},{\"title\":\"Office\"},{\"title\":\"Extn.\"},{\"title\":\"Start date\"},{\"title\":\"Salary\"}]} },{\"widget\":\"Grid4\",\"data\":{\"data\":[[\"Tiger Nixon\",\"System Architect\",\"Edinburgh\",\"5421\",\"2011\\/04\\/25\",\"$320,800\"],[\"Garrett Winters\",\"Accountant\",\"Tokyo\",\"8422\",\"2011\\/07\\/25\",\"$170,750\"],[\"Ashton Cox\",\"Junior Technical Author\",\"San Francisco\",\"1562\",\"2009\\/01\\/12\",\"$86,000\"],[\"Cedric Kelly\",\"Senior Javascript Developer\",\"Edinburgh\",\"6224\",\"2012\\/03\\/29\",\"$433,060\"],[\"Airi Satou\",\"Accountant\",\"Tokyo\",\"5407\",\"2008\\/11\\/28\",\"$162,700\"],[\"Brielle Williamson\",\"Integration Specialist\",\"New York\",\"4804\",\"2012\\/12\\/02\",\"$372,000\"],[\"Herrod Chandler\",\"Sales Assistant\",\"San Francisco\",\"9608\",\"2012\\/08\\/06\",\"$137,500\"],[\"Rhona Davidson\",\"Integration Specialist\",\"Tokyo\",\"6200\",\"2010\\/10\\/14\",\"$327,900\"],[\"Colleen Hurst\",\"Javascript Developer\",\"San Francisco\",\"2360\",\"2009\\/09\\/15\",\"$205,500\"],[\"Sonya Frost\",\"Software Engineer\",\"Edinburgh\",\"1667\",\"2008\\/12\\/13\",\"$103,600\"],[\"Jena Gaines\",\"Office Manager\",\"London\",\"3814\",\"2008\\/12\\/19\",\"$90,560\"],[\"Quinn Flynn\",\"Support Lead\",\"Edinburgh\",\"9497\",\"2013\\/03\\/03\",\"$342,000\"],[\"Charde Marshall\",\"Regional Director\",\"San Francisco\",\"6741\",\"2008\\/10\\/16\",\"$470,600\"],[\"Haley Kennedy\",\"Senior Marketing Designer\",\"London\",\"3597\",\"2012\\/12\\/18\",\"$313,500\"],[\"Tatyana Fitzpatrick\",\"Regional Director\",\"London\",\"1965\",\"2010\\/03\\/17\",\"$385,750\"],[\"Michael Silva\",\"Marketing Designer\",\"London\",\"1581\",\"2012\\/11\\/27\",\"$198,500\"],[\"Paul Byrd\",\"Chief Financial Officer (CFO)\",\"New York\",\"3059\",\"2010\\/06\\/09\",\"$725,000\"],[\"Gloria Little\",\"Systems Administrator\",\"New York\",\"1721\",\"2009\\/04\\/10\",\"$237,500\"],[\"Bradley Greer\",\"Software Engineer\",\"London\",\"2558\",\"2012\\/10\\/13\",\"$132,000\"],[\"Dai Rios\",\"Personnel Lead\",\"Edinburgh\",\"2290\",\"2012\\/09\\/26\",\"$217,500\"],[\"Jenette Caldwell\",\"Development Lead\",\"New York\",\"1937\",\"2011\\/09\\/03\",\"$345,000\"],[\"Yuri Berry\",\"Chief Marketing Officer (CMO)\",\"New York\",\"6154\",\"2009\\/06\\/25\",\"$675,000\"],[\"Caesar Vance\",\"Pre-Sales Support\",\"New York\",\"8330\",\"2011\\/12\\/12\",\"$106,450\"],[\"Doris Wilder\",\"Sales Assistant\",\"Sidney\",\"3023\",\"2010\\/09\\/20\",\"$85,600\"],[\"Angelica Ramos\",\"Chief Executive Officer (CEO)\",\"London\",\"5797\",\"2009\\/10\\/09\",\"$1,200,000\"],[\"Gavin Joyce\",\"Developer\",\"Edinburgh\",\"8822\",\"2010\\/12\\/22\",\"$92,575\"],[\"Jennifer Chang\",\"Regional Director\",\"Singapore\",\"9239\",\"2010\\/11\\/14\",\"$357,650\"],[\"Brenden Wagner\",\"Software Engineer\",\"San Francisco\",\"1314\",\"2011\\/06\\/07\",\"$206,850\"],[\"Fiona Green\",\"Chief Operating Officer (COO)\",\"San Francisco\",\"2947\",\"2010\\/03\\/11\",\"$850,000\"],[\"Shou Itou\",\"Regional Marketing\",\"Tokyo\",\"8899\",\"2011\\/08\\/14\",\"$163,000\"],[\"Michelle House\",\"Integration Specialist\",\"Sidney\",\"2769\",\"2011\\/06\\/02\",\"$95,400\"],[\"Suki Burks\",\"Developer\",\"London\",\"6832\",\"2009\\/10\\/22\",\"$114,500\"],[\"Prescott Bartlett\",\"Technical Author\",\"London\",\"3606\",\"2011\\/05\\/07\",\"$145,000\"],[\"Gavin Cortez\",\"Team Leader\",\"San Francisco\",\"2860\",\"2008\\/10\\/26\",\"$235,500\"],[\"Martena Mccray\",\"Post-Sales support\",\"Edinburgh\",\"8240\",\"2011\\/03\\/09\",\"$324,050\"],[\"Unity Butler\",\"Marketing Designer\",\"San Francisco\",\"5384\",\"2009\\/12\\/09\",\"$85,675\"]],\"columns\":[{\"title\":\"Name\"},{\"title\":\"Position\"},{\"title\":\"Office\"},{\"title\":\"Extn.\"},{\"title\":\"Start date\"},{\"title\":\"Salary\"}]} },{\"widget\":\"Grid5\",\"data\":{\"data\":[[\"Tiger Nixon\",\"System Architect\",\"Edinburgh\",\"5421\",\"2011\\/04\\/25\",\"$320,800\"],[\"Garrett Winters\",\"Accountant\",\"Tokyo\",\"8422\",\"2011\\/07\\/25\",\"$170,750\"],[\"Ashton Cox\",\"Junior Technical Author\",\"San Francisco\",\"1562\",\"2009\\/01\\/12\",\"$86,000\"],[\"Cedric Kelly\",\"Senior Javascript Developer\",\"Edinburgh\",\"6224\",\"2012\\/03\\/29\",\"$433,060\"],[\"Airi Satou\",\"Accountant\",\"Tokyo\",\"5407\",\"2008\\/11\\/28\",\"$162,700\"],[\"Brielle Williamson\",\"Integration Specialist\",\"New York\",\"4804\",\"2012\\/12\\/02\",\"$372,000\"],[\"Herrod Chandler\",\"Sales Assistant\",\"San Francisco\",\"9608\",\"2012\\/08\\/06\",\"$137,500\"],[\"Rhona Davidson\",\"Integration Specialist\",\"Tokyo\",\"6200\",\"2010\\/10\\/14\",\"$327,900\"],[\"Colleen Hurst\",\"Javascript Developer\",\"San Francisco\",\"2360\",\"2009\\/09\\/15\",\"$205,500\"],[\"Sonya Frost\",\"Software Engineer\",\"Edinburgh\",\"1667\",\"2008\\/12\\/13\",\"$103,600\"],[\"Jena Gaines\",\"Office Manager\",\"London\",\"3814\",\"2008\\/12\\/19\",\"$90,560\"],[\"Quinn Flynn\",\"Support Lead\",\"Edinburgh\",\"9497\",\"2013\\/03\\/03\",\"$342,000\"],[\"Charde Marshall\",\"Regional Director\",\"San Francisco\",\"6741\",\"2008\\/10\\/16\",\"$470,600\"],[\"Haley Kennedy\",\"Senior Marketing Designer\",\"London\",\"3597\",\"2012\\/12\\/18\",\"$313,500\"],[\"Tatyana Fitzpatrick\",\"Regional Director\",\"London\",\"1965\",\"2010\\/03\\/17\",\"$385,750\"],[\"Michael Silva\",\"Marketing Designer\",\"London\",\"1581\",\"2012\\/11\\/27\",\"$198,500\"],[\"Paul Byrd\",\"Chief Financial Officer (CFO)\",\"New York\",\"3059\",\"2010\\/06\\/09\",\"$725,000\"],[\"Gloria Little\",\"Systems Administrator\",\"New York\",\"1721\",\"2009\\/04\\/10\",\"$237,500\"],[\"Bradley Greer\",\"Software Engineer\",\"London\",\"2558\",\"2012\\/10\\/13\",\"$132,000\"],[\"Dai Rios\",\"Personnel Lead\",\"Edinburgh\",\"2290\",\"2012\\/09\\/26\",\"$217,500\"],[\"Jenette Caldwell\",\"Development Lead\",\"New York\",\"1937\",\"2011\\/09\\/03\",\"$345,000\"],[\"Yuri Berry\",\"Chief Marketing Officer (CMO)\",\"New York\",\"6154\",\"2009\\/06\\/25\",\"$675,000\"],[\"Caesar Vance\",\"Pre-Sales Support\",\"New York\",\"8330\",\"2011\\/12\\/12\",\"$106,450\"],[\"Doris Wilder\",\"Sales Assistant\",\"Sidney\",\"3023\",\"2010\\/09\\/20\",\"$85,600\"],[\"Angelica Ramos\",\"Chief Executive Officer (CEO)\",\"London\",\"5797\",\"2009\\/10\\/09\",\"$1,200,000\"],[\"Gavin Joyce\",\"Developer\",\"Edinburgh\",\"8822\",\"2010\\/12\\/22\",\"$92,575\"],[\"Jennifer Chang\",\"Regional Director\",\"Singapore\",\"9239\",\"2010\\/11\\/14\",\"$357,650\"],[\"Brenden Wagner\",\"Software Engineer\",\"San Francisco\",\"1314\",\"2011\\/06\\/07\",\"$206,850\"],[\"Fiona Green\",\"Chief Operating Officer (COO)\",\"San Francisco\",\"2947\",\"2010\\/03\\/11\",\"$850,000\"],[\"Shou Itou\",\"Regional Marketing\",\"Tokyo\",\"8899\",\"2011\\/08\\/14\",\"$163,000\"],[\"Michelle House\",\"Integration Specialist\",\"Sidney\",\"2769\",\"2011\\/06\\/02\",\"$95,400\"],[\"Suki Burks\",\"Developer\",\"London\",\"6832\",\"2009\\/10\\/22\",\"$114,500\"],[\"Prescott Bartlett\",\"Technical Author\",\"London\",\"3606\",\"2011\\/05\\/07\",\"$145,000\"],[\"Gavin Cortez\",\"Team Leader\",\"San Francisco\",\"2860\",\"2008\\/10\\/26\",\"$235,500\"],[\"Martena Mccray\",\"Post-Sales support\",\"Edinburgh\",\"8240\",\"2011\\/03\\/09\",\"$324,050\"],[\"Unity Butler\",\"Marketing Designer\",\"San Francisco\",\"5384\",\"2009\\/12\\/09\",\"$85,675\"]],\"columns\":[{\"title\":\"Name\"},{\"title\":\"Position\"},{\"title\":\"Office\"},{\"title\":\"Extn.\"},{\"title\":\"Start date\"},{\"title\":\"Salary\"}]} },{\"widget\":\"HChart1\",\"data\":{\"chart\":{\"type\":\"packedbubble\",\"height\":\"100%\"},\"title\":{\"text\":\"dev49560.service-now.com Service Summary Dashboard\"},\"tooltip\":{\"useHTML\":true,\"pointFormat\":\"<b>{point.name}:<\\/b> {point.y}m elapsed<\\/sub>\"},\"plotOptions\":{\"packedbubble\":{\"minSize\":\"20%\",\"maxSize\":\"100%\",\"zMin\":0,\"zMax\":1000,\"layoutAlgorithm\":{\"gravitationalConstant\":0.05,\"splitSeries\":true,\"seriesInteraction\":false,\"dragBetweenSeries\":true,\"parentNodeLimit\":true},\"dataLabels\":{\"enabled\":true,\"format\":\"{point.name}\",\"filter\":{\"property\":\"y\",\"operator\":\">\",\"value\":250},\"style\":{\"color\":\"black\",\"textOutline\":\"none\",\"fontWeight\":\"normal\"}}}},\"series\":[{\"name\":\"Service Desk\",\"data\":[{\"name\":\"INC0010372\",\"value\":767.1},{\"name\":\"CHG0010373\",\"value\":20.7},{\"name\":\"INC0010374\",\"value\":97.2},{\"name\":\"INC0010375\",\"value\":111.7},{\"name\":\"INC0010376\",\"value\":158.1},{\"name\":\"CHG0010377\",\"value\":241.6},{\"name\":\"INC0010378\",\"value\":249.1},{\"name\":\"INC0010379\",\"value\":298.1},{\"name\":\"INC0010380\",\"value\":323.7},{\"name\":\"INC0010381\",\"value\":78.3},{\"name\":\"CHG0010383\",\"value\":415.4},{\"name\":\"INC0010384\",\"value\":353.2},{\"name\":\"CHG0010385\",\"value\":337.6},{\"name\":\"INC0010386\",\"value\":71.1},{\"name\":\"INC0010387\",\"value\":69.8},{\"name\":\"INC0010388\",\"value\":67.7},{\"name\":\"INC0010389\",\"value\":59.3},{\"name\":\"CHG0010390\",\"value\":54.8},{\"name\":\"CHG0010391\",\"value\":51.2},{\"name\":\"INC0010392\",\"value\":48.3},{\"name\":\"CHG0010393\",\"value\":44.4},{\"name\":\"CHG0010394\",\"value\":44.3},{\"name\":\"CHG0010395\",\"value\":43.7},{\"name\":\"INC0010396\",\"value\":40.2},{\"name\":\"CHG0010397\",\"value\":40},{\"name\":\"CHG0010398\",\"value\":34.7},{\"name\":\"CHG0010399\",\"value\":34.6},{\"name\":\"INC0010400\",\"value\":20.7},{\"name\":\"CHG0010401\",\"value\":19.4},{\"name\":\"INC0010402\",\"value\":16.7},{\"name\":\"INC0010402\",\"value\":12.3},{\"name\":\"INC0010403\",\"value\":10.4},{\"name\":\"CHG0010405\",\"value\":9.5},{\"name\":\"INC0010406\",\"value\":7.8},{\"name\":\"INC0010407\",\"value\":7.5},{\"name\":\"INC0010402\",\"value\":7.2}]},{\"name\":\"Level 3\",\"data\":[{\"name\":\"INC0010403\",\"value\":8.2},{\"name\":\"INC0010404\",\"value\":9.2},{\"name\":\"CHG0010405\",\"value\":13.1},{\"name\":\"INC0010406\",\"value\":14.1},{\"name\":\"INC0010407\",\"value\":14.1},{\"name\":\"CHG0010408\",\"value\":17.3},{\"name\":\"INC0010409\",\"value\":24.3},{\"name\":\"INC0010410\",\"value\":25},{\"name\":\"CHG0010411\",\"value\":50.6},{\"name\":\"CHG0010412\",\"value\":7.3},{\"name\":\"INC0010413\",\"value\":60.7},{\"name\":\"CHG0010414\",\"value\":8.9},{\"name\":\"INC0010415\",\"value\":9.1},{\"name\":\"CHG0010416\",\"value\":93.9},{\"name\":\"CHG0010417\",\"value\":392.7},{\"name\":\"CHG0010418\",\"value\":225.1},{\"name\":\"INC0010419\",\"value\":141.5}]},{\"name\":\"Waiting Approval\",\"data\":[{\"name\":\"CHG0010419\",\"value\":409.4},{\"name\":\"INC0010420\",\"value\":34.1},{\"name\":\"INC0010421\",\"value\":7.1}]},{\"name\":\"Database\",\"data\":[{\"name\":\"INC0010422\",\"value\":7.6},{\"name\":\"INC0010423\",\"value\":8.4},{\"name\":\"INC0010424\",\"value\":8.3},{\"name\":\"INC0010425\",\"value\":10.2},{\"name\":\"CHG0010426\",\"value\":12},{\"name\":\"INC001047\",\"value\":23.4},{\"name\":\"INC0010428\",\"value\":30.2},{\"name\":\"CHG0010429\",\"value\":5334.5},{\"name\":\"INC0010430\",\"value\":566},{\"name\":\"INC0010431\",\"value\":456.3}]},{\"name\":\"Network\",\"data\":[{\"name\":\"El Salvador\",\"value\":7.2},{\"name\":\"Uruguay\",\"value\":8.1},{\"name\":\"Bolivia\",\"value\":17.8},{\"name\":\"Trinidad and Tobago\",\"value\":34},{\"name\":\"Ecuador\",\"value\":43},{\"name\":\"Chile\",\"value\":78.6},{\"name\":\"Peru\",\"value\":52},{\"name\":\"Colombia\",\"value\":74.1},{\"name\":\"Brazil\",\"value\":501.1},{\"name\":\"Argentina\",\"value\":199},{\"name\":\"Venezuela\",\"value\":195.2}]},{\"name\":\"Level 2\",\"data\":[{\"name\":\"Nepal\",\"value\":6.5},{\"name\":\"Georgia\",\"value\":6.5},{\"name\":\"Brunei Darussalam\",\"value\":7.4},{\"name\":\"Kyrgyzstan\",\"value\":7.4},{\"name\":\"Afghanistan\",\"value\":7.9},{\"name\":\"Myanmar\",\"value\":9.1},{\"name\":\"Mongolia\",\"value\":14.7},{\"name\":\"Sri Lanka\",\"value\":16.6},{\"name\":\"Bahrain\",\"value\":20.5},{\"name\":\"Yemen\",\"value\":22.6},{\"name\":\"Jordan\",\"value\":22.3},{\"name\":\"Lebanon\",\"value\":21.1},{\"name\":\"Azerbaijan\",\"value\":31.7},{\"name\":\"Singapore\",\"value\":47.8},{\"name\":\"Hong Kong\",\"value\":49.9},{\"name\":\"Syria\",\"value\":52.7},{\"name\":\"DPR Korea\",\"value\":59.9},{\"name\":\"Israel\",\"value\":64.8},{\"name\":\"Turkmenistan\",\"value\":70.6},{\"name\":\"Oman\",\"value\":74.3},{\"name\":\"Qatar\",\"value\":88.8},{\"name\":\"Philippines\",\"value\":96.9},{\"name\":\"Kuwait\",\"value\":98.6},{\"name\":\"Uzbekistan\",\"value\":122.6},{\"name\":\"Iraq\",\"value\":139.9},{\"name\":\"Pakistan\",\"value\":158.1},{\"name\":\"Vietnam\",\"value\":190.2},{\"name\":\"United Arab Emirates\",\"value\":201.1},{\"name\":\"Malaysia\",\"value\":227.5},{\"name\":\"Kazakhstan\",\"value\":236.2},{\"name\":\"Thailand\",\"value\":272},{\"name\":\"Taiwan\",\"value\":276.7},{\"name\":\"Indonesia\",\"value\":453},{\"name\":\"Saudi Arabia\",\"value\":494.8},{\"name\":\"Japan\",\"value\":1278.9},{\"name\":\"China\",\"value\":10540.8},{\"name\":\"India\",\"value\":2341.9},{\"name\":\"Russia\",\"value\":1766.4},{\"name\":\"Iran\",\"value\":618.2},{\"name\":\"Korea\",\"value\":610.1}]}]} },{\"widget\":\"HChart2\",\"data\":{\"chart\":{\"type\":\"bar\"},\"title\":{\"text\":\"Historic World Population by Region\"},\"subtitle\":{\"text\":\"Source: <a href=\\\"https:\\/\\/en.wikipedia.org\\/wiki\\/World_population\\\">Wikipedia.org<\\/a>\"},\"xAxis\":{\"categories\":[\"Africa\",\"America\",\"Asia\",\"Europe\",\"Oceania\"],\"title\":{\"text\":null}},\"yAxis\":{\"min\":0,\"title\":{\"text\":\"Population (millions)\",\"align\":\"high\"},\"labels\":{\"overflow\":\"justify\"}},\"tooltip\":{\"valueSuffix\":\" millions\"},\"plotOptions\":{\"bar\":{\"dataLabels\":{\"enabled\":true}}},\"legend\":{\"layout\":\"vertical\",\"align\":\"right\",\"verticalAlign\":\"top\",\"x\":-40,\"y\":80,\"floating\":true,\"borderWidth\":1,\"backgroundColor\":\"#FFFFFF\",\"shadow\":true},\"credits\":{\"enabled\":false},\"series\":[{\"name\":\"Year 1800\",\"data\":[107,31,635,203,2]},{\"name\":\"Year 1900\",\"data\":[133,156,947,408,6]},{\"name\":\"Year 2000\",\"data\":[814,841,3714,727,31]},{\"name\":\"Year 2016\",\"data\":[1216,1001,4436,738,40]}]} },{\"widget\":\"iFRAME1\",\"data\":{\"URL\":\"https:\\/\\/www.nextcloud.com",\"text\":\"iFRAME 1\",\"link\":\"\"} },{\"widget\":\"iFRAME2\",\"data\":{\"URL\":\"https:\\/\\/www.nextcloud.com",\"text\":\"iFRAME 2\",\"link\":\"\"} },{\"widget\":\"iFRAME3\",\"data\":{\"URL\":\"https:\\/\\/www.github.com",\"text\":\"iFRAME 3\",\"link\":\"\"} },{\"widget\":\"iFRAME4\",\"data\":{\"URL\":\"http:\\/\\/",\"text\":\"iFRAME 4\",\"link\":\"\"} },{\"widget\":\"iFRAME5\",\"data\":{\"URL\":\"",\"text\":\"iFRAME 5\",\"link\":\"\"} },{\"widget\":\"iFRAME6\",\"data\":{\"URL\":\"",\"text\":\"iFRAME 6\",\"link\":\"\"} },{\"widget\":\"iFRAME7\",\"data\":{\"URL\":\"",\"text\":\"iFRAME 7\",\"link\":\"\"} },{\"widget\":\"iFRAME8\",\"data\":{\"URL\":\"",\"text\":\"iFRAME 8\",\"link\":\"\"} },{\"widget\":\"iFRAME9\",\"data\":{\"URL\":\"",\"text\":\"iFRAME 9\",\"link\":\"\"} },{\"widget\":\"info1\",\"data\":{\"text\":\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut\\n\\tlabore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco\\n\\tlaboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in\\n\\tvoluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat\\n\\tnon proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\\n\\t<br \\/>\\n\\t\\u00a0\\n\\t<br \\/>\\n\\t<h1> TEST 1<h1 \\/>\\n\\n\\tSed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque\\n\\tlaudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto\\n\\tbeatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut\\n\\todit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.\\n\\tNeque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit,\\n\\tsed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat\\n\\tvoluptatem.  <a href=\\\"http:\\/\\/kick\\/nextcloud\\/index.php\\/apps\\/deck\\/\\\">Link1<\\/a>\\n\\t\"} },{\"widget\":\"info2\",\"data\":{\"text\":\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut\\n\\tlabore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco\\n\\tlaboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in\\n\\tvoluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat\\n\\tnon proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\\n\\t<br \\/>\\n\\t\\u00a0\\n\\t<br \\/>\\n\\t<h1> TEST 1<h1 \\/>\\n\\n\\tSed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque\\n\\tlaudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto\\n\\tbeatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut\\n\\todit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.\\n\\tNeque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit,\\n\\tsed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat\\n\\tvoluptatem.  <a href=\\\"http:\\/\\/kick\\/nextcloud\\/index.php\\/apps\\/deck\\/\\\">Link1<\\/a>\\n\\t\"} },{\"widget\":\"info3\",\"data\":{\"text\":\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut\\n\\tlabore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco\\n\\tlaboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in\\n\\tvoluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat\\n\\tnon proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\\n\\t<br \\/>\\n\\t\\u00a0\\n\\t<br \\/>\\n\\t<h1> TEST 1<h1 \\/>\\n\\n\\tSed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque\\n\\tlaudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto\\n\\tbeatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut\\n\\todit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.\\n\\tNeque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit,\\n\\tsed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat\\n\\tvoluptatem.  <a href=\\\"http:\\/\\/kick\\/nextcloud\\/index.php\\/apps\\/deck\\/\\\">Link1<\\/a>\\n\\t\"} }]'
		var post = returnMsg;

		$.post(OC.generateUrl('/apps/dashboardcharts/settings'), post, function(response) {
			OC.msg.finishedSuccess('#activity_notifications_msg', response.set);
		});
	//}
			
		$section.find('textarea').each(function(){
		$(this).prop('disabled', false);
		});	
		

	//	OCP.AppConfig.setValue('dashboard', 'snippet', snippetValue, {
	//		success: function(){
	//			$textarea.prop('disabled', false);

	//			OCP.AppConfig.setValue('dashboard', 'widget', urlValue, {
	//				success: function(){
	//					$urlInput.prop('disabled', false);
	//					OC.msg.finishedSuccess(selector, t('settings', 'Saved'));
	//				},
	//				error: function(){
	//					$urlInput.prop('disabled', false);
	//					OC.msg.finishedError(selector, t('dashboard', 'Error while saving'));
	//				}
	//			});
	//		},
	//		error: function(){
	//			$textarea.prop('disabled', false);
	//			$urlInput.prop('disabled', false);
	//			OC.msg.finishedError(selector, t('dashboard', 'Error while saving'));
	//		}
	//	});

		cachebuster += 1;
		OCP.AppConfig.setValue('dashboardcharts', 'cachebuster', cachebuster);
	});
	/**
	 * try to detect an URL from the snippet input
	 */
	$textarea.on('change', function() {
		var value = $textarea.val(),
			result = urlRegex.exec(value);

		if ($urlInput.val() === '' && result !== null) {
			$urlInput.val(result[1]);
		}

		$saveButton.prop('disabled', false);
	});
	
	$urlInput.on('change', function() {
		$saveButton.prop('disabled', false);
	})
});
